# FILE: config/config.yaml
# IKF MARKET PIPELINE — CONFIG

storage:
  root: "data/raw"
  format: "parquet"
  timezone: "US/Eastern"

defaults:
  history_start: "2010-01-01"

equities:
  enabled: true
  universe: ["SPY"]         # runtime auto-adds composite members + benchmarks
  price_interval: "1d"
  mode: "incremental"       # overridden by --recent/--full
  lookback_days: 365
  overlap_days: 5
  max_attempts: 3
  base_sleep: 1.5
  between_sleep: 0.35

options:
  enabled: true
  underlying: ["SPY"]
  expires: "nearest_3"
  chains: ["calls","puts"]

futures:
  enabled: true
  tickers: ["ES=F"]
  price_interval: "1d"
  history_start: "2010-01-01"
  overlap_days: 5

rates:
  enabled: true
  fred_series: ["SOFR","DGS2","DGS5","DGS10","DGS30"]
  start: "2010-01-01"
  overlap_days: 5

features:
  equities:
    enabled: true
    benchmark: "SPY"
    win_ret: 20
    win_vol: 60
    win_sharpe: 60
    sma_windows: [20, 50]
    ema_windows: [20, 50]
    rsi_period: 14
    boll_window: 20
    atr_window: 14
    skew_window: 60
    kurt_window: 60
    plots: true
    processed_path: "data/processed"
    plots_path: "output/plots"

analysis:
  benchmark: "SPY"
  topk: 25
  deciles: 10

# IKF COMPOSITES (CSV > inline > equal-weight)
composites:
  - name: "IKF_AI_Megacap"
    tickers: ["NVDA","MSFT","AAPL","GOOGL","META","AMZN"]
    weights_csv: "config/composites_specs/IKF_AI_Megacap.csv"   # ← UNCOMMENT / add this
    # weights: [0.22, 0.20, 0.16, 0.16, 0.13, 0.13]             # ← optional to leave, ignored when CSV present
    benchmark: "SPY"
    rebalance: "none"
    start: "2015-01-01"

  - name: "IKF_EnergyPulse"
    tickers: ["XOM","CVX","SLB","COP","EOG"]
    weights_csv: "config/composites_specs/IKF_EnergyPulse.csv"  # ← UNCOMMENT / add this
    # weights: [0.25, 0.25, 0.20, 0.15, 0.15]                  # ← optional to leave, ignored when CSV present
    benchmark: "SPY"
    rebalance: "monthly"
    start: "2012-01-01"

